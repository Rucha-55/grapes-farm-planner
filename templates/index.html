<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grape Disease Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-leaf"></i> Grape Disease Detection</h1>
            <p>Upload an image of grape leaves to identify potential diseases</p>
        </header>

        <main>
            <section class="upload-section">
                <div class="upload-container" id="upload-container">
                    <div class="upload-area" id="upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Drag & Drop or Click to Upload</p>
                        <p class="upload-hint">Supported formats: JPG, JPEG, PNG</p>
                        <input type="file" id="file-input" accept="image/jpeg, image/png, image/jpg" hidden>
                    </div>
                    <div class="preview-container" id="preview-container" hidden>
                        <img id="preview-image" src="" alt="Preview">
                        <div class="preview-actions">
                            <button id="change-image" class="btn btn-secondary"><i class="fas fa-redo"></i> Change</button>
                            <button id="analyze-image" class="btn btn-primary"><i class="fas fa-microscope"></i> Analyze</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="results-section" id="results-section" hidden>
                <div class="loader" id="loader">
                    <div class="spinner"></div>
                    <p>Analyzing image...</p>
                </div>
                
                <div class="results-container" id="results-container" hidden>
                    <h2>Analysis Results</h2>
                    <div class="results-header">
                        <div class="result-status" id="result-status">
                            <i class="result-icon" id="result-icon"></i>
                            <h3 id="prediction-text">Healthy</h3>
                        </div>
                        <div class="confidence-meter">
                            <div class="meter">
                                <div class="meter-fill" id="confidence-fill"></div>
                            </div>
                            <p>Confidence: <span id="confidence-text">0%</span></p>
                        </div>
                    </div>
                    
                    <div class="result-message" id="result-message"></div>
                    
                    <div class="disease-info" id="disease-info">
                        <div class="info-section">
                            <h4><i class="fas fa-exclamation-circle"></i> Symptoms</h4>
                            <ul id="symptoms-list"></ul>
                        </div>
                        
                        <div class="info-section">
                            <h4><i class="fas fa-prescription-bottle"></i> Recommended Treatments</h4>
                            <ul id="pesticides-list"></ul>
                        </div>
                        
                        <div class="info-section">
                            <h4><i class="fas fa-shield-alt"></i> Prevention Measures</h4>
                            <ul id="prevention-list"></ul>
                        </div>
                    </div>
                    
                    <div class="error-info" id="error-info" hidden>
                        <i class="fas fa-exclamation-triangle"></i>
                        <p id="error-message"></p>
                    </div>
                    
                    <button id="new-analysis" class="btn btn-primary"><i class="fas fa-arrow-left"></i> Back to Upload</button>
                </div>
            </section>
        </main>
        
        <footer>
            <p>Â© 2025 Grape Disease Detection System</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>